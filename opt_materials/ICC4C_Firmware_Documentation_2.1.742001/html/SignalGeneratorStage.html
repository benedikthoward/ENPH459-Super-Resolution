<!-- HTML header for doxygen 1.8.16-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<link rel="shortcut icon" href="adara_icon.png" type="image/x-icon" />
<title>ICC4C: Signal Generator</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><a href="https://www.optotune.com/" target="_blank"><img alt="Logo" src="optotune_logo.png"/></a></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ICC4C
   &#160;<span id="projectnumber">143-525-00</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">Signal Generator </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p >Signal Generator system base ID: <b>0x60</b> </p>
<p >Signal Generator is a system for generating input signals of particular <a class="el" href="WaveformShape.html">shapes</a>. It is an input stage system, meaning that it is a system used as the very first stage of <a class="el" href="signalflow.html">Signal Flow</a>.</p>
<p >To set it up, all the appropriate registers (seen in the table below) have to be configured first. The shape of the signal, its frequency, amplitude, offset and phase can be adjusted. For the square and pulse waveforms, the signal's duty cycle can be configured.</p>
<p >The unit type of the value being output by the SignalGenerator, must match to the control mode selected by the <a class="el" href="SignalFlowManager.html">Signal Flow Manager</a>.</p>
<p >By default, the Signal Generator will continuously output the waveform corresponding to the configuration. If only a single period is desired (or N periods for some finite positive integer N), the number of desired periods to execute has to be set to the "cycles" register before running the system. A negative value in this register corresponds to infinite looping.</p>
<p >Finally, to get the configured SignalFlow generator to run, the following steps have to take place:</p><ol type="1">
<li>The Signal Generator system has to be set as active Input Stage system for the corresponding channel. This is done through the <a class="el" href="SignalFlowManager.html">Signal Flow Manager</a> system.</li>
<li>The "Run" register of the corresponding Signal Generator system has to be set to true (any non-zero value).</li>
</ol>
<h3>Register Map:</h3>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Address   </th><th class="markdownTableHeadNone">Name   </th><th class="markdownTableHeadNone">Default Value   </th><th class="markdownTableHeadNone">Description   </th><th class="markdownTableHeadNone">Type   </th><th class="markdownTableHeadNone">Access    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">0x6[0-7]00   </td><td class="markdownTableBodyNone">Unit type   </td><td class="markdownTableBodyNone">0   </td><td class="markdownTableBodyNone"></td><td class="markdownTableBodyNone"><a class="el" href="ChannelValueType.html">Unit Type</a>   </td><td class="markdownTableBodyNone">read write    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">0x6[0-7]01   </td><td class="markdownTableBodyNone">Run   </td><td class="markdownTableBodyNone">false   </td><td class="markdownTableBodyNone">Turn Signal Generator on/off   </td><td class="markdownTableBodyNone">boolean   </td><td class="markdownTableBodyNone">read write    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">0x6[0-7]02   </td><td class="markdownTableBodyNone">Shape   </td><td class="markdownTableBodyNone">0   </td><td class="markdownTableBodyNone"></td><td class="markdownTableBodyNone"><a class="el" href="WaveformShape.html">Waveform Shape</a>   </td><td class="markdownTableBodyNone">read write    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">0x6[0-7]03   </td><td class="markdownTableBodyNone">Frequency   </td><td class="markdownTableBodyNone">0.0   </td><td class="markdownTableBodyNone">Frequency in Hz of generated signal   </td><td class="markdownTableBodyNone">float   </td><td class="markdownTableBodyNone">read write    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">0x6[0-7]04   </td><td class="markdownTableBodyNone">Amplitude   </td><td class="markdownTableBodyNone">0.0   </td><td class="markdownTableBodyNone">Amplitude of generated signal   </td><td class="markdownTableBodyNone">float   </td><td class="markdownTableBodyNone">read write    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">0x6[0-7]05   </td><td class="markdownTableBodyNone">Offset   </td><td class="markdownTableBodyNone">0.0   </td><td class="markdownTableBodyNone">Offset of generated signal   </td><td class="markdownTableBodyNone">float   </td><td class="markdownTableBodyNone">read write    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">0x6[0-7]06   </td><td class="markdownTableBodyNone">Phase   </td><td class="markdownTableBodyNone">0.0 [rad]   </td><td class="markdownTableBodyNone">Phase of generated signal in radians   </td><td class="markdownTableBodyNone">float   </td><td class="markdownTableBodyNone">read write    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">0x6[0-7]07   </td><td class="markdownTableBodyNone">Cycles   </td><td class="markdownTableBodyNone">-1   </td><td class="markdownTableBodyNone">Number of cycles to be generated. Run flag is turned off after completion. Negative value corresponds to infinite looping   </td><td class="markdownTableBodyNone">int32   </td><td class="markdownTableBodyNone">read write    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">0x6[0-7]08   </td><td class="markdownTableBodyNone">Duty cycle   </td><td class="markdownTableBodyNone">0.5   </td><td class="markdownTableBodyNone">Duty cycle of square and pulse shapes   </td><td class="markdownTableBodyNone">0 to 1 float <br  />
 Resolution is frequency/10000   </td><td class="markdownTableBodyNone">read write    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">0x6[0-7]09   </td><td class="markdownTableBodyNone">External trigger   </td><td class="markdownTableBodyNone">0   </td><td class="markdownTableBodyNone">Signal generator unit can be synchronised with external signal (0=disabled, 1=rising/falling edge, 2=rising edge trigger)   </td><td class="markdownTableBodyNone">uint32   </td><td class="markdownTableBodyNone">read write    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">0x6[0-7]0a   </td><td class="markdownTableBodyNone">Output   </td><td class="markdownTableBodyNone">N/A   </td><td class="markdownTableBodyNone">Output of signal generator   </td><td class="markdownTableBodyNone">float   </td><td class="markdownTableBodyNone">read only    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">0x6[0-7]0b   </td><td class="markdownTableBodyNone">Stair count   </td><td class="markdownTableBodyNone">5   </td><td class="markdownTableBodyNone">Count + direction of stairs for Staircase and FastAutoFocus shape<br  />
(for FastAutoFocus it defines number of output trigger pulses, for other shapes it has no effect)   </td><td class="markdownTableBodyNone">int32 (-100 to 100)   </td><td class="markdownTableBodyNone">read write    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">0x6[0-7]0c   </td><td class="markdownTableBodyNone">External trigger GPIOx   </td><td class="markdownTableBodyNone">false   </td><td class="markdownTableBodyNone">Turns GPIOx pin to trigger input source (GPIOx default is trigger output) and disables global external trigger SYNCx pin   </td><td class="markdownTableBodyNone">boolean   </td><td class="markdownTableBodyNone">read write    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">0x6[0-7]0d   </td><td class="markdownTableBodyNone">Output trigger time shift (*)   </td><td class="markdownTableBodyNone">0.0 [ms]   </td><td class="markdownTableBodyNone">Allows fine adjustment of output trigger timing versus generated output signal<br  />
(can be only positive, limit of shift value = period/stair count; the trigger pulse duration will be cut above this limit)   </td><td class="markdownTableBodyNone">float   </td><td class="markdownTableBodyNone">read write    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">0x6[0-7]0e   </td><td class="markdownTableBodyNone">Output trigger duty cycle (*)   </td><td class="markdownTableBodyNone">0.5   </td><td class="markdownTableBodyNone">Duty cycle of the trigger pulse with respect to period of generated signal<br  />
(for real duration it has to be multiplied with period; for staircase shape with period/stair count)   </td><td class="markdownTableBodyNone">float (0.0 to 1.0)   </td><td class="markdownTableBodyNone">read write    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">0x6[0-7]0f   </td><td class="markdownTableBodyNone">Settling delay (*)   </td><td class="markdownTableBodyNone">0.0 [ms]   </td><td class="markdownTableBodyNone">For FastAutoFocus shape it allows to add extra time with constant value before and after the ramp to minimise ringing effect <br  />
(max. value is limited to 25% of period)   </td><td class="markdownTableBodyNone">float   </td><td class="markdownTableBodyNone">read write    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">0x6[0-7]10   </td><td class="markdownTableBodyNone">Instantaneous phase   </td><td class="markdownTableBodyNone">0.0   </td><td class="markdownTableBodyNone">Actual phase of the period signal. Range: 0 - 1   </td><td class="markdownTableBodyNone">float   </td><td class="markdownTableBodyNone">read only   </td></tr>
</table>
<dl class="section note"><dt>Note</dt><dd>Full register address varies according to the channel.</dd></dl>
<p>For example:</p>
<p >Frequency register of channel two has address 0x6103</p>
<dl class="section note"><dt>Note</dt><dd>(*) Output trigger time shift is available only for Staircase and FastAutoFocus shapes which are dedicated for usage with a camera. Range of allowed values depends on frequency and stair count therefore these registers have to be set in advance. </dd></dl>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<hr class="footer"/><address class="footer"><small>
<a href="https://www.optotune.com/" target="_blank">Optotune. All rights reserved. 
</a>
</small></address>
</body>
</html>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>optoICC: optoICC SDK wiki</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="Optotune_logo_medium.png"/></td>
  <td id="projectalign">
   <div id="projectname">optoICC
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('index.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">optoICC SDK wiki </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1 class="doxsection"><a class="anchor" id="intro_sec"></a>
Introduction to optoICC</h1>
<p>This Package contains classes to control ICC-4C and ECC-1C and ICC-1C <br  />
 ICC-4C refer to <a class="el" href="classopto_i_c_c_1_1icc4c_1_1_i_c_c4c_board.html">ICC-4C</a> <br  />
 ECC-1C refer to <a class="el" href="classopto_i_c_c_1_1ecc1c_1_1_e_c_c1c_board.html">ECC-1C</a> <br  />
 ICC-1C refer to <a class="el" href="classopto_i_c_c_1_1icc1c_1_1_i_c_c1c_board.html">ICC-1C</a> <br  />
</p>
<p>The optoICC SDK is organized in the following way: </p><pre class="fragment">     Board.Channel.System.RegisterCommand(parameters)
</pre><div class="image">
<img src="optoICC_heirarchy.jpg" alt=""/>
</div>
<p><a class="el" href="classopto_i_c_c_1_1icc4c_1_1_i_c_c4c_board.html">Board</a> : Low/mid level object for operating the firmware such as vector patterns, simple/pro commands, etc <br  />
 <a class="el" href="classopto_i_c_c_1_1icc4c_1_1_i_c_c4c_channel.html">Channel</a> : A given channel, which can set input types, gain, etc. <br  />
 <a class="el" href="">System</a> : Each channel has its own stages. From here you can call methods that get/set individual registers. <br  />
 <a class="el" href="classopto_i_c_c_1_1registers_1_1icc__registers_1_1_i_c_c_status.html">Registers</a> : Each system has several registers, which are dictionaries with elements regarding valid units/range. <br  />
</p>
<h2 class="doxsection"><a class="anchor" id="installation"></a>
Installation</h2>
<p>To install optoICC package you need to use pip. optoICC package is dependent on optoKummenberg package so first you need to install this package. Both of these packages are included as wheel files in downloaded zip file. To install them run the following commands (replace # by exact version):</p>
<h4 class="doxsection"><a class="anchor" id="autotoc_md0"></a>
pip install optoKummenberg-#.##.####-py3-none-any.whl</h4>
<h4 class="doxsection"><a class="anchor" id="autotoc_md1"></a>
pip install optoICC-#.##.###-py3-none-any.whl</h4>
<h2 class="doxsection"><a class="anchor" id="quick_start"></a>
Quick start</h2>
<p>If necessary, flash the FW using: <a class="el" href="">STM32 Cube Programmer</a> Or by using Optotune Cockpit application. This build of optoICC is based on FW Version: 14352500-00-A_1.0.740516</p>
<p>Import necessary module and initialize a board </p><pre class="fragment">import optoICC
icc4c = optoICC.connect() or optoICC.connect(port='COMX')
</pre><p>Define the system you want to interact with </p><pre class="fragment">sig_gen = icc4c.Channel_0.SignalGenerator
</pre><p>Start setting values </p><pre class="fragment">sig_gen.SetAmplitude(0.1)
</pre><h3 class="doxsection"><a class="anchor" id="autotoc_md2"></a>
Setting Up A Channel (Quick-Start Guide - DC output):</h3>
<p>Each Channel has a Manager for handling signal flow. This happens mostly behind-the-scenes, However, it is important to keep in mind the following procedure.</p>
<p><b> (1) Set Input Stage &gt; (2) Set Input Conditioning &gt; (3) Set Control Mode &gt; (4) Set Output Limiting </b></p>
<p>For example, to output a static value on Channel_0 in open-loop (current) mode... </p><pre class="fragment">import optoICC
icc4c = optoICC.connect()
ch_0 = icc4c.channel[0]

ch_0.StaticInput.SetAsInput()                        # (1) here we tell the Manager that we will use a static input
ch_0.InputConditioning.SetGain(1.0)                  # (2) here we tell the Manager some input conditioning parameters
ch_0.LinearOutput.SetCurrentLimit(0.7)               # (4) here we tell the Manager to limit the current to 700mA (default)

ch_0.Manager.CheckSignalFlow()                       # This is a useful method to make sure the signal flow is configured correctly.
</pre><p>The channel is configured. The output of the Static system will now proceed through the signal flow mentioned above.</p>
<p>Therefore, next we will configure the output of the Static System. </p><pre class="fragment">si_0 = icc4c.channel[0].StaticInput

si_0.SetCurrent(0.075)                              # here we set a static output of 75mA.
</pre><h3 class="doxsection"><a class="anchor" id="autotoc_md3"></a>
Setting Up A Channel (Quick-Start Guide - Sinusoid):</h3>
<p>To output a sinusoid on Channel_0 in open-loop (current) mode... </p><pre class="fragment">import optoICC
icc4c = optoICC.connect()
ch_0 = icc4c.Channel_0

ch_0.SignalGenerator.SetAsInput()                    # (1) here we tell the Manager that the sig gen is the desired input
ch_0.InputConditioning.SetGain(1.0)                  # (2) here we tell the Manager some input conditioning parameters

ch_0.Manager.CheckSignalFlow()                       # This is a useful method to make sure the signal flow is configured correctly.
</pre><p>The channel is configured. The output of the Signal Generator will now proceed through the signal flow mentioned above.</p>
<p>Therefore, next we will configure the output of the Signal Generator. </p><pre class="fragment">sg_0 = icc4c.Channel_0.SignalGenerator

sg_0.SetShape(optoICC.Waveforms.SINUSOIDAL)         # here we set the sig gen output waveform type
sg_0.SetFrequency(10.0)                             # here we set the frequency in Hz
sg_0.SetAmplitude(0.100)                            # here we set the amplitude in Amps
sg_0.Run()                                          # done.
</pre><p>There are many other systems to interact with and configure. For more information, see the links below...</p>
<p><b> Check out the link below for an overview of all of the available systems and their methods (such as OpticalFeedback, Logger, and VectorPatternUnit)</b></p>
<p><a class="el" href="namespaceopto_i_c_c_1_1registers_1_1icc__registers.html">General Systems </a></p>
<h3 class="doxsection"><a class="anchor" id="autotoc_md4"></a>
Setting Registers Directly</h3>
<p>Additional operations are available directly through the Board object (get/set multiple, reset, etc)<br  />
For example, multiple set/get can be done (up to 8 at once).<br  />
After the following commands, the Signal Generator system will output a sinusoid on channel 0 (You must still configure the Manager!) </p><pre class="fragment">import optoICC
icc4c = optoICC.connect()

mngr = icc4c.Channel_0.Manager
sig_gen = icc4c.Channel_0.SignalGenerator

systems = [mngr.input,     mngr.control,   sig_gen.shape,                sig_gen.frequency, sig_gen.amplitude, sig_gen.unit,          sig_gen.run]
values  = [sig_gen.sys_id, sig_gen.sys_id, optoICC.Waveforms.SINUSOIDAL, 10.0,              0.1,               optoICC.Units.CURRENT, True       ]

icc4c.set_value(systems, values)
icc4c.get_value(systems)
</pre><p>Note: You can find which registers a system has by calling <span class="tt"> get_register_names </span> </p><pre class="fragment">&gt;&gt;&gt; sig_gen.get_register_names()
['unit', 'run', 'shape', 'frequency', 'amplitude', 'offset', 'phase', 'cycles', 'duty_cycle']
</pre><h2 class="doxsection"><a class="anchor" id="more"></a>
More Examples</h2>
<p><a class="el" href="examples.html">Additional ICC-4C Examples </a> <br  />
 <a class="el" href="eccexamples.html">ECC-1c Examples </a> </p>
</div></div><!-- PageDoc -->
<a href="doxygen_crawl.html"></a>
</div><!-- contents -->
</div><!-- doc-content -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0 </li>
  </ul>
</div>
</body>
</html>
